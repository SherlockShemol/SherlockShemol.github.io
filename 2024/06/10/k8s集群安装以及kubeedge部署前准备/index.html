<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author"><title>k8s集群安装以及kubeedge部署前准备 · Shemol's Blog</title><meta name="description" content="实验环境：Debian GNU&amp;#x2F;Linux 12 (bookworm) x86_64

安装containerd安装k8s前，需要先安装containerd。kubeedge边端只需要安装containerd就好了，云端需要安装k8s。
安装前准备设置流量转发修改 iptables 的配置"><meta name="og:description" content="实验环境：Debian GNU&amp;#x2F;Linux 12 (bookworm) x86_64

安装containerd安装k8s前，需要先安装containerd。kubeedge边端只需要安装containerd就好了，云端需要安装k8s。
安装前准备设置流量转发修改 iptables 的配置"><meta name="twitter:site" content="Shemol's Blog"><meta name="twitter:title" content="k8s集群安装以及kubeedge部署前准备"><meta name="twitter:card" content="summary"><meta name="keywords" content=""><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 7.3.0"><link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body><div class="container" id="stage"><div class="row"><div class="col-sm-3 col-xs-12 side-container invisible" id="side-bar"><div class="vertical-text site-title"><h3 class="site-title-small" tabindex="-1"><a class="a-title" href="/">Shemol's Blog</a></h3><h1 class="site-title-large" tabindex="-1"><a class="a-title" href="/"></a></h1><!--h6(onclick="triggerSiteNav()") Trigger--></div><br class="visible-lg visible-md visible-sm"><div class="site-title-links" id="site-nav"><ul><li><a href="/">Home</a></li><li><a href="/archives">Archive</a></li><li><a href="/tags">Tags</a></li><li><a href="/friends/index.html">friends</a></li><li><a href="/about/index.html">about</a></li><li class="soc"></li></ul><div class="visible-lg visible-md visible-sm site-nav-footer"><br class="site-nav-footer-br"><footer><p>&copy;&nbsp;2024&nbsp;<a target="_blank" href="https://shemol.tech" rel="noopener noreferrer">Shemol</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div><div class="col-sm-9 col-xs-12 main-container invisible" id="main-container"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post-container"><p class="post-title"><a>k8s集群安装以及kubeedge部署前准备</a></p><p class="post-meta"><span class="date meta-item">Posted at&nbsp;2024-06-10</span><span class="meta-item"><i class="fa fa-tag"></i><span>&nbsp;</span><a class="a-tag" href="/tags/流程记录/" title="流程记录">流程记录</a><span>&nbsp;</span></span></p><p class="post-abstract"><span id="more"></span>
<blockquote>
<p>实验环境：Debian GNU&#x2F;Linux 12 (bookworm) x86_64</p>
</blockquote>
<h1 id="安装containerd"><a href="#安装containerd" class="headerlink" title="安装containerd"></a>安装containerd</h1><p>安装k8s前，需要先<a target="_blank" rel="noopener" href="https://neuromansser.tech/posts/%E5%AE%89%E8%A3%85%E5%AE%B9%E5%99%A8%E8%BF%90%E8%A1%8C%E6%97%B6containerd/">安装containerd</a>。kubeedge边端只需要安装containerd就好了，云端需要安装k8s。</p>
<h1 id="安装前准备"><a href="#安装前准备" class="headerlink" title="安装前准备"></a>安装前准备</h1><h2 id="设置流量转发"><a href="#设置流量转发" class="headerlink" title="设置流量转发"></a>设置流量转发</h2><p>修改 iptables 的配置，启用“br_netfilter”模块，让 kubernetes 可以检查和转发网络流量。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre class="line-numbers language-hljs bash"><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF | sudo tee /etc/modules-load.d/k8s.conf</span><br><span class="hljs-string">br_netfilter</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF | sudo tee /etc/sysctl.d/k8s.conf</span><br><span class="hljs-string">net.bridge.bridge-nf-call-ip6tables = 1</span><br><span class="hljs-string">net.bridge.bridge-nf-call-iptables = 1</span><br><span class="hljs-string">net.ipv4.ip_forward=1 # better than modify /etc/sysctl.conf</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-built_in"><code class="language-hljs bash"><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF | sudo tee /etc/modules-load.d/k8s.conf</span><br><span class="hljs-string">br_netfilter</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF | sudo tee /etc/sysctl.d/k8s.conf</span><br><span class="hljs-string">net.bridge.bridge-nf-call-ip6tables = 1</span><br><span class="hljs-string">net.bridge.bridge-nf-call-iptables = 1</span><br><span class="hljs-string">net.ipv4.ip_forward=1 # better than modify /etc/sysctl.conf</span><br><span class="hljs-string">EOF</span><br><br><span class="hljs-built_in">sudo</span> sysctl --system<br><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></td></tr></table></figure>
<h2 id="关闭Linux-Swap分区"><a href="#关闭Linux-Swap分区" class="headerlink" title="关闭Linux Swap分区"></a>关闭Linux Swap分区</h2><blockquote>
<p>基于安全性（如在官方文档中承诺的 Secret 只会在内存中读写，不会落盘）、利于保证节点同步一致性等原因，从 1.8 版开始，Kubernetes 就在它的文档中明确声明了它默认不支持 Swap 分区，在未关闭 Swap 分区的机器中，集群将直接无法启动。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre class="line-numbers language-hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cp</span> /etc/fstab /etc/fstab_bak<br><span class="hljs-built_in">sudo</span> swapoff -a<br><span class="hljs-built_in">sudo</span> sed -ri <span class="hljs-string"><code class="language-hljs bash"><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cp</span> /etc/fstab /etc/fstab_bak<br><span class="hljs-built_in">sudo</span> swapoff -a<br><span class="hljs-built_in">sudo</span> sed -ri <span class="hljs-string">&#x27;/\sswap\s/s/^#?/#/&#x27;</span> /etc/fstab<br><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></td></tr></table></figure>
<h2 id="注册apt软件源"><a href="#注册apt软件源" class="headerlink" title="注册apt软件源"></a>注册apt软件源</h2><p>选择清华镜像源，官方文档为：<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/help/kubernetes/">https://mirrors.tuna.tsinghua.edu.cn/help/kubernetes/</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre class="line-numbers language-hljs bash"><span class="hljs-built_in">sudo</span> apt install -y apt-transport-https ca-certificates curl<br><br><span class="hljs-built_in"><code class="language-hljs bash"><span class="hljs-built_in">sudo</span> apt install -y apt-transport-https ca-certificates curl<br><br><span class="hljs-built_in">sudo</span> curl -fsSLo /usr/share/keyrings/kubernetes-archive-keyring.gpg https://packages.cloud.google.com/apt/doc/apt-key.gpg<br><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></td></tr></table></figure>
<p>新建<code>/etc/apt/sources.list.d/kubernetes.list</code>，内容为：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre class="line-numbers language-hljs bash"><code class="language-hljs bash">deb [signed-by=/usr/share/keyrings/kubernetes-archive-keyring.gpg] https://mirrors.tuna.tsinghua.edu.cn/kubernetes/apt kubernetes-xenial main<br><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></td></tr></table></figure>
<p>然后</p>
<figure class="highlight bash"><table><tr><td class="code"><pre class="line-numbers language-hljs bash"><span class="hljs-built_in"><code class="language-hljs bash"><span class="hljs-built_in">sudo</span> apt update<br><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></td></tr></table></figure>
<h1 id="安装kubeadm，kubelet，kubectl"><a href="#安装kubeadm，kubelet，kubectl" class="headerlink" title="安装kubeadm，kubelet，kubectl"></a>安装kubeadm，kubelet，kubectl</h1><p>三个工具的作用请自行学习。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre class="line-numbers language-hljs bash"><span class="hljs-built_in"><code class="language-hljs bash"><span class="hljs-built_in">sudo</span> apt install kubeadm kubelet kubectl <br><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></td></tr></table></figure>
<p>个人没有锁定版本，如果有锁定版本的需要，请阅读参考文章。<br>查看安装结果：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre class="line-numbers language-hljs bash">cloud@cloud:~$ kubeadm version<br>kubeadm version: &amp;version.Info&#123;Major:<span class="hljs-string">&quot;1&quot;</span>, Minor:<span class="hljs-string">&quot;28&quot;</span>, GitVersion:<span class="hljs-string">&quot;v1.28.10&quot;</span>, GitCommit:<span class="hljs-string">&quot;21be1d76a90bc00e2b0f6676a664bdf097224155&quot;</span>, GitTreeState:<span class="hljs-string">&quot;clean&quot;</span>, BuildDate:<span class="hljs-string">&quot;2024-05-14T10:51:30Z&quot;</span>, GoVersion:<span class="hljs-string">&quot;go1.21.9&quot;</span>, Compiler:<span class="hljs-string">&quot;gc&quot;</span>, Platform:<span class="hljs-string"><code class="language-hljs bash">cloud@cloud:~$ kubeadm version<br>kubeadm version: &amp;version.Info&#123;Major:<span class="hljs-string">&quot;1&quot;</span>, Minor:<span class="hljs-string">&quot;28&quot;</span>, GitVersion:<span class="hljs-string">&quot;v1.28.10&quot;</span>, GitCommit:<span class="hljs-string">&quot;21be1d76a90bc00e2b0f6676a664bdf097224155&quot;</span>, GitTreeState:<span class="hljs-string">&quot;clean&quot;</span>, BuildDate:<span class="hljs-string">&quot;2024-05-14T10:51:30Z&quot;</span>, GoVersion:<span class="hljs-string">&quot;go1.21.9&quot;</span>, Compiler:<span class="hljs-string">&quot;gc&quot;</span>, Platform:<span class="hljs-string">"linux/amd64"</span>&#125;<br>cloud@cloud:~$ kubectl version<br>Client Version: v1.28.10<br>Kustomize Version: v5.0.4-0.20230601165947-6ce0bf390ce3<br>The connection to the server localhost:8080 was refused - did you specify the right host or port?<br>cloud@cloud:~$ kubelet --version<br>Kubernetes v1.28.10<br><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></td></tr></table></figure>
<p>了解后续需要的镜像版本：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre class="line-numbers language-hljs bash">cloud@cloud:~$ <span class="hljs-built_in"><code class="language-hljs bash">cloud@cloud:~$ <span class="hljs-built_in">sudo</span> kubeadm config images list --kubernetes-version v1.28.10<br>registry.k8s.io/kube-apiserver:v1.28.10<br>registry.k8s.io/kube-controller-manager:v1.28.10<br>registry.k8s.io/kube-scheduler:v1.28.10<br>registry.k8s.io/kube-proxy:v1.28.10<br>registry.k8s.io/pause:3.9<br>registry.k8s.io/etcd:3.5.12-0<br>registry.k8s.io/coredns/coredns:v1.10.1<br><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></td></tr></table></figure>
<h1 id="初始化集群控制面"><a href="#初始化集群控制面" class="headerlink" title="初始化集群控制面"></a>初始化集群控制面</h1><p>1.启动kubelet，保证开机执行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre class="line-numbers language-hljs bash"><span class="hljs-built_in">sudo</span> systemctl start kubelet<br><span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in"><code class="language-hljs bash"><span class="hljs-built_in">sudo</span> systemctl start kubelet<br><span class="hljs-built_in">sudo</span> systemctl <span class="hljs-built_in">enable</span> kubelet<br><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></td></tr></table></figure>
<p>2.开始部署，这里切换到root账号</p>
<figure class="highlight bash"><table><tr><td class="code"><pre class="line-numbers language-hljs bash"><code class="language-hljs bash">kubeadm init \<br>--image-repository registry.cn-hangzhou.aliyuncs.com/google_containers \<br>--pod-network-cidr=10.10.0.0/16 \<br>--apiserver-advertise-address=10.129.196.8 \<br>--kubernetes-version=v1.28.10 \<br>--v=5<br><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></td></tr></table></figure>
<p>参数解释（这里直接摘抄原参考文章啦）：</p>
<ul>
<li><code>--image-repository</code>：从阿里云服务器上拉取上面需要的基础镜像，如果不设置，就得去 Google 服务器拉取；</li>
<li><code>--pod-network-cidr</code>：设置集群中 Pod 的网络地址段，这是给后面安装网络插件 Flannel 使用的；</li>
<li><code>--kubernetes-version</code>：指定 Kubernetes 版本；</li>
<li><code>--v=5</code>：显示详细的跟踪日志，可以参考<a target="_blank" rel="noopener" href="https://kubernetes.io/zh-cn/docs/reference/kubectl/cheatsheet/#kubectl-output-verbosity-and-debugging">这里</a>；</li>
<li><code>--apiserver-advertise-address</code>：指定 api-server 的 IP 地址，如果有多张网卡，请明确选择哪张网卡。由于 apiserver 在 Kubernetes 集群中有很重要的地位，很多配置（如 ConfigMap 资源等）都直接存储了该地址，后续更改起来十分麻烦，所以要慎重。<br>3.按照日志提示进行kube config配置<br>我的做法是在root下，后续kubeedge部署时，默认的config文件就在<code>$HOME/.kube/config</code>，也就是<code>/root/.kube/config</code>。<figure class="highlight bash"><table><tr><td class="code"><pre class="line-numbers language-hljs bash"><span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$HOME</span>/.kube<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="hljs-variable"><code class="language-hljs bash"><span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$HOME</span>/.kube<br><span class="hljs-built_in">sudo</span> <span class="hljs-built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="hljs-variable">$HOME</span>/.kube/config<br><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="安装网络插件"><a href="#安装网络插件" class="headerlink" title="安装网络插件"></a>安装网络插件</h2><p>关于k8s的网络插件，请自行学习，我也需要再学习一下…<br>这里我们按照原参考文章一样选择Flannel。<br>从 <a target="_blank" rel="noopener" href="https://github.com/flannel-io/flannel/blob/master/Documentation/kube-flannel.yml">Github</a> 获取安装文件 kube-flannel.yml，然后对其进行修改：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre class="line-numbers language-hljs yml"><span class="hljs-attr">net-conf.json:</span> <span class="hljs-string">|</span><br><span class="hljs-string">    &#123;</span><br><span class="hljs-string">      &quot;Network&quot;: &quot;10.244.0.0/16&quot;,</span><br><span class="hljs-string">      &quot;Backend&quot;: &#123;</span><br><span class="hljs-string">        &quot;Type&quot;: &quot;vxlan&quot;</span><br><span class="hljs-string">      &#125;</span><br><span class="hljs-string"><code class="language-hljs yml"><span class="hljs-attr">net-conf.json:</span> <span class="hljs-string">|</span><br><span class="hljs-string">    &#123;</span><br><span class="hljs-string">      &quot;Network&quot;: &quot;10.244.0.0/16&quot;,</span><br><span class="hljs-string">      &quot;Backend&quot;: &#123;</span><br><span class="hljs-string">        &quot;Type&quot;: &quot;vxlan&quot;</span><br><span class="hljs-string">      &#125;</span><br><span class="hljs-string">    &#125;</span><br><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></td></tr></table></figure>
<p>将上面的 Network 调整为我们之前初始化集群时设置的 pod 网段：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre class="line-numbers language-hljs yaml"><span class="hljs-attr">net-conf.json:</span> <span class="hljs-string">|</span><br><span class="hljs-string">    &#123;</span><br><span class="hljs-string">      &quot;Network&quot;: &quot;10.10.0.0/16&quot;,</span><br><span class="hljs-string">      &quot;Backend&quot;: &#123;</span><br><span class="hljs-string">        &quot;Type&quot;: &quot;vxlan&quot;</span><br><span class="hljs-string">      &#125;</span><br><span class="hljs-string"><code class="language-hljs yaml"><span class="hljs-attr">net-conf.json:</span> <span class="hljs-string">|</span><br><span class="hljs-string">    &#123;</span><br><span class="hljs-string">      &quot;Network&quot;: &quot;10.10.0.0/16&quot;,</span><br><span class="hljs-string">      &quot;Backend&quot;: &#123;</span><br><span class="hljs-string">        &quot;Type&quot;: &quot;vxlan&quot;</span><br><span class="hljs-string">      &#125;</span><br><span class="hljs-string">    &#125;</span><br><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></td></tr></table></figure>
<p>最后我们使用 <code>kubectl apply</code> 进行安装：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre class="line-numbers language-hljs shell"><code class="language-hljs shell">kubectl apply -f kube-flannel.yml<br><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></td></tr></table></figure>
<p>也可以按照flannel官网的方式直接</p>
<figure class="highlight bash"><table><tr><td class="code"><pre class="line-numbers language-hljs bash"><code class="language-hljs bash">kubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml<br><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></td></tr></table></figure>
<p>感觉版本的话都可以问题不大，但是不管怎么样pod网段应该都需要配置的。</p>
<h3 id="有一个小问题需要注意"><a href="#有一个小问题需要注意" class="headerlink" title="有一个小问题需要注意"></a>有一个小问题需要注意</h3><p>在后续运行edgemesh测试案例的过程中，发现部署在边端的pod始终处于<code>ContainerCreating</code>的状态，边端的edgecore日志显示原因是<code>/run/flannel/subnet.env</code>不存在，把云端的这个文件内容复制到边端之后才可以正常部署。因此可以留意一下这个问题，在部署edgemesh的时候我还会再说一遍。</p>
<h2 id="关于镜像"><a href="#关于镜像" class="headerlink" title="关于镜像"></a>关于镜像</h2><p>在没有设置containerd的代理之前，我遇到了flannel镜像无法拉取的问题，我推荐一个我使用的国内镜像源替代的方法。<br>在<a target="_blank" rel="noopener" href="https://docker.aityp.com/">渡渡鸟镜像同步站</a>搜索相关的镜像，<code>kubectl edit pod/deployment/daemonset ** -n **</code>直接替换为国内的镜像。如果渡渡鸟镜像同步站没有相关镜像的话，也可以按照网站的<a target="_blank" rel="noopener" href="https://docker.aityp.com/article/1">使用指南</a>进行添加。</p>
<h2 id="移除master上的污点"><a href="#移除master上的污点" class="headerlink" title="移除master上的污点"></a>移除master上的污点</h2><p>移除污点是为了让 master 节点可以部署业务服务，当时部署cloudcore的时候就因为这个问题耽误了一些时间…</p>
<figure class="highlight bash"><table><tr><td class="code"><pre class="line-numbers language-hljs bash"><code class="language-hljs bash">kubectl taint nodes cloud node-role.kubernetes.io/control-plane:NoSchedule-<br><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></td></tr></table></figure>
<p>参考文章中的调整NodePort范围，目前我还没有遇到问题，因此先跳过了，需要的请阅读参考文章。<br>增加Worker节点也暂时没有必要，需要的请阅读参考文章。</p>
<h1 id="安装Docker"><a href="#安装Docker" class="headerlink" title="安装Docker"></a>安装Docker</h1><p>此外，在运行联合推理案例时，需要构建联合推理头盔检测大小模型的镜像（运行案例中的build_image.sh脚本，这个到时候也会说），因此需要安装docker ce。<br>清华镜像源安装docker ce，官方文档：<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/help/docker-ce/">https://mirrors.tuna.tsinghua.edu.cn/help/docker-ce/</a><br>另外Docker也最好配置代理和国内镜像，请自行搜索方法。</p>
<h1 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h1><ul>
<li>Kubernetes 集群安装（Debian 版）：<a target="_blank" rel="noopener" href="https://demonlee.tech/archives/2212002#%E7%A7%BB%E9%99%A4-master-%E4%B8%8A%E7%9A%84%E6%B1%A1%E7%82%B9">https://demonlee.tech/archives/2212002#%E7%A7%BB%E9%99%A4-master-%E4%B8%8A%E7%9A%84%E6%B1%A1%E7%82%B9</a></li>
</ul>
</p></div><div class="share"><span>Share</span>&nbsp;<span class="soc"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></span><span class="soc"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></span><span class="soc"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=https://shemol.tech/2024/06/10/k8s集群安装以及kubeedge部署前准备/%20Shemol's Blog%20k8s集群安装以及kubeedge部署前准备"></a></span></div><div class="pagination"><p class="clearfix"><span class="pre pagbuttons"><a role="navigation" href="/2024/06/10/%E9%83%A8%E7%BD%B2KubeEdge%E3%80%81Edgemesh%E3%80%81Sedna/" title="部署KubeEdge、Edgemesh、Sedna"><i class="fa fa-angle-double-left"></i>&nbsp;Previous post: 部署KubeEdge、Edgemesh、Sedna</a></span><span>&nbsp;</span><span class="next pagbuttons"><a role="navigation" href="/2024/06/09/%E5%AE%89%E8%A3%85%E5%AE%B9%E5%99%A8%E8%BF%90%E8%A1%8C%E6%97%B6%EF%BC%9Acontainerd/" title="安装容器运行时：containerd">Next post: 安装容器运行时：containerd&nbsp;<i class="fa fa-angle-double-right"></i></a></span></p></div></div></div></div><div class="visible-xs site-bottom-footer"><footer><p>&copy;&nbsp;2024&nbsp;<a target="_blank" href="https://shemol.tech" rel="noopener noreferrer">Shemol</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div></div><script src="/js/jquery-3.1.0.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/google-analytics.js"></script><script src="/js/typography.js"></script></body></html>